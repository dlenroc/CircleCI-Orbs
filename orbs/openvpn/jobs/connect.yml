description: >
  Executes given steps after a VPN connection is established

parameters:
  executor:
    type: executor
    default: default
  config:
    default: VPN_CONFIG
    type: env_var_name
    description: >
      Base64 encoded configuration
  steps:
    type: steps
    default: []

executor: << parameters.executor >>

steps:
  - install
  - connect:
      config: << parameters.config >>
  - steps: << parameters.steps >>
  - disconnect
